/**
                       * @license
                       * author: TanglePay
                       * @tanglepaysdk/ethereumprovider.js v0.0.1
                       * Released under the Apache-2.0 license.
                       */
import{EventEmitter as n}from"events";import t from"@tanglepaysdk/core";import{JsonRpcEngine as e}from"@tanglepaysdk/common";var r=function(n,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])},r(n,t)};var o=function(){return o=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},o.apply(this,arguments)};function i(n,t,e,r){return new(e||(e=Promise))((function(o,i){function a(n){try{s(r.next(n))}catch(n){i(n)}}function c(n){try{s(r.throw(n))}catch(n){i(n)}}function s(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(a,c)}s((r=r.apply(n,t||[])).next())}))}function a(n,t){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(e=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(n,a)}catch(n){c=[6,n],r=0}finally{e=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}var c=new(function(n){function c(){var r=n.call(this)||this;r._version=101,r._seq=1;var c=function(n){return function(t,e){return i(r,void 0,void 0,(function(){var r;return a(this,(function(o){switch(o.label){case 0:return console.log("req:"+n,t),[4,e(t)];case 1:return r=o.sent(),console.log("resp:"+n,r),[2,r]}}))}))}};r._rpcEngine=e.builder().add((function(n,e){return i(r,void 0,void 0,(function(){var r;return a(this,(function(o){switch(o.label){case 0:if(null!=this._selectedAddress)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t.request({method:"iota_connect",params:{}})];case 2:if(!(r=o.sent())||!r.address)throw new Error("not connected");return this._selectedAddress=r.address,[3,4];case 3:throw o.sent();case 4:return[4,e(n)];case 5:return[2,o.sent()]}}))}))})).add(c("1")).add((function(n,t){return i(r,void 0,void 0,(function(){return a(this,(function(e){return n.id=this._seq++,n.version=this._version,[2,t(n)]}))}))})).add((function(n,t){return i(r,void 0,void 0,(function(){var e,r,i,c,s,u,l,d,f,h,p,v;return a(this,(function(a){switch(a.label){case 0:return e={eth_requestAccounts:"iota_accounts",eth_connect:"iota_connect"},r={eth_sign:function(n){return{content:n}},personal_sign:function(n){return{content:n}},eth_sendTransaction:function(n){var t=n[0];return t.value=parseInt(t.value),t},eth_getBalance:function(){return{assetsList:["evm"],addressList:[]}}},i=function(n){return n},c=n.method,(s=o({},n)).method=null!==(h=e[c])&&void 0!==h?h:c,u=null!==(p=r[c])&&void 0!==p?p:i,s.params=u(s.params),[4,t(s)];case 1:return l=a.sent(),d=null!==(v={eth_connect:function(n){return[n.address]},eth_getBalance:function(n){return n.amount}}[c])&&void 0!==v?v:i,(f=o({},l)).data=d(l.data),[2,f]}}))}))})).add(c("2")).add((function(n){return i(r,void 0,void 0,(function(){var e,r,o,i;return a(this,(function(a){switch(a.label){case 0:return e=n.method,r=n.params,o=n.id,[4,t.request({method:e,params:r})];case 1:return i=a.sent(),[2,{id:o,version:100,data:i}]}}))}))})).build();for(var s={connect:r._handleConnect,disconnect:r._handleDisconnect,message:r._handleMessage,chainChanged:r._handleChainChanged,accountsChanged:r._handleAccountsChanged},u=0,l=Object.entries(s);u<l.length;u++){var d=l[u],f=d[0],h=d[1];t.on(f,h.bind(r))}return r}return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}r(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(c,n),Object.defineProperty(c.prototype,"isTanglePay",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"selectedAddress",{get:function(){return this._selectedAddress},enumerable:!1,configurable:!0}),c.prototype._handleConnect=function(n){this.emit("connect",n)},c.prototype._handleDisconnect=function(n){this.emit("disconnect",n)},c.prototype._handleMessage=function(n){this.emit("message",n)},c.prototype._handleChainChanged=function(n){this.emit("chainChanged",n)},c.prototype._handleAccountsChanged=function(n){this.emit("accountsChanged",n)},c.prototype.request=function(n){return i(this,void 0,void 0,(function(){var t;return a(this,(function(e){switch(e.label){case 0:return[4,this._rpcEngine.request(n)];case 1:if((t=e.sent()).error)throw t.error;return[2,t.data]}}))}))},c}(n));window.ethereum=c;export{c as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguZXMuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCIuLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2VzRGVjb3JhdGUoY3RvciwgZGVzY3JpcHRvckluLCBkZWNvcmF0b3JzLCBjb250ZXh0SW4sIGluaXRpYWxpemVycywgZXh0cmFJbml0aWFsaXplcnMpIHtcclxuICAgIGZ1bmN0aW9uIGFjY2VwdChmKSB7IGlmIChmICE9PSB2b2lkIDAgJiYgdHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpOyByZXR1cm4gZjsgfVxyXG4gICAgdmFyIGtpbmQgPSBjb250ZXh0SW4ua2luZCwga2V5ID0ga2luZCA9PT0gXCJnZXR0ZXJcIiA/IFwiZ2V0XCIgOiBraW5kID09PSBcInNldHRlclwiID8gXCJzZXRcIiA6IFwidmFsdWVcIjtcclxuICAgIHZhciB0YXJnZXQgPSAhZGVzY3JpcHRvckluICYmIGN0b3IgPyBjb250ZXh0SW5bXCJzdGF0aWNcIl0gPyBjdG9yIDogY3Rvci5wcm90b3R5cGUgOiBudWxsO1xyXG4gICAgdmFyIGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9ySW4gfHwgKHRhcmdldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSkgOiB7fSk7XHJcbiAgICB2YXIgXywgZG9uZSA9IGZhbHNlO1xyXG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICB2YXIgY29udGV4dCA9IHt9O1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluKSBjb250ZXh0W3BdID0gcCA9PT0gXCJhY2Nlc3NcIiA/IHt9IDogY29udGV4dEluW3BdO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluLmFjY2VzcykgY29udGV4dC5hY2Nlc3NbcF0gPSBjb250ZXh0SW4uYWNjZXNzW3BdO1xyXG4gICAgICAgIGNvbnRleHQuYWRkSW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAoZikgeyBpZiAoZG9uZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgaW5pdGlhbGl6ZXJzIGFmdGVyIGRlY29yYXRpb24gaGFzIGNvbXBsZXRlZFwiKTsgZXh0cmFJbml0aWFsaXplcnMucHVzaChhY2NlcHQoZiB8fCBudWxsKSk7IH07XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9ICgwLCBkZWNvcmF0b3JzW2ldKShraW5kID09PSBcImFjY2Vzc29yXCIgPyB7IGdldDogZGVzY3JpcHRvci5nZXQsIHNldDogZGVzY3JpcHRvci5zZXQgfSA6IGRlc2NyaXB0b3Jba2V5XSwgY29udGV4dCk7XHJcbiAgICAgICAgaWYgKGtpbmQgPT09IFwiYWNjZXNzb3JcIikge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHR5cGVvZiByZXN1bHQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWRcIik7XHJcbiAgICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5nZXQpKSBkZXNjcmlwdG9yLmdldCA9IF87XHJcbiAgICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5zZXQpKSBkZXNjcmlwdG9yLnNldCA9IF87XHJcbiAgICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5pbml0KSkgaW5pdGlhbGl6ZXJzLnB1c2goXyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKF8gPSBhY2NlcHQocmVzdWx0KSkge1xyXG4gICAgICAgICAgICBpZiAoa2luZCA9PT0gXCJmaWVsZFwiKSBpbml0aWFsaXplcnMucHVzaChfKTtcclxuICAgICAgICAgICAgZWxzZSBkZXNjcmlwdG9yW2tleV0gPSBfO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0YXJnZXQpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbnRleHRJbi5uYW1lLCBkZXNjcmlwdG9yKTtcclxuICAgIGRvbmUgPSB0cnVlO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcnVuSW5pdGlhbGl6ZXJzKHRoaXNBcmcsIGluaXRpYWxpemVycywgdmFsdWUpIHtcclxuICAgIHZhciB1c2VWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0aWFsaXplcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YWx1ZSA9IHVzZVZhbHVlID8gaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZywgdmFsdWUpIDogaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdXNlVmFsdWUgPyB2YWx1ZSA6IHZvaWQgMDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Byb3BLZXkoeCkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN5bWJvbFwiID8geCA6IFwiXCIuY29uY2F0KHgpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc2V0RnVuY3Rpb25OYW1lKGYsIG5hbWUsIHByZWZpeCkge1xyXG4gICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN5bWJvbFwiKSBuYW1lID0gbmFtZS5kZXNjcmlwdGlvbiA/IFwiW1wiLmNvbmNhdChuYW1lLmRlc2NyaXB0aW9uLCBcIl1cIikgOiBcIlwiO1xyXG4gICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCBcIm5hbWVcIiwgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiBwcmVmaXggPyBcIlwiLmNvbmNhdChwcmVmaXgsIFwiIFwiLCBuYW1lKSA6IG5hbWUgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XHJcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xyXG4gICAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBmYWxzZSB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcclxufSkgOiBmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcclxuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRJbihzdGF0ZSwgcmVjZWl2ZXIpIHtcclxuICAgIGlmIChyZWNlaXZlciA9PT0gbnVsbCB8fCAodHlwZW9mIHJlY2VpdmVyICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiByZWNlaXZlciAhPT0gXCJmdW5jdGlvblwiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciBvbiBub24tb2JqZWN0XCIpO1xyXG4gICAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcclxufVxyXG4iLCJpbXBvcnQgeyBJRXRoZXJldW1Qcm92aWRlciwgUmVxdWVzdEFyZ3VtZW50cyB9IGZyb20gJy4vdHlwZXMnO1xyXG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xyXG5pbXBvcnQgaW90YSBmcm9tICdAdGFuZ2xlcGF5c2RrL2NvcmUnO1xyXG5pbXBvcnQge0pzb25ScGNFbmdpbmUsIEpzb25ScGNSZXF1ZXN0LCBKc29uUnBjUmVxdWVzdEhhbmRsZXIsIEpzb25ScGNSZXF1ZXN0TWlkZGxld2FyZX0gZnJvbSAnQHRhbmdsZXBheXNkay9jb21tb24nO1xyXG5cclxuY2xhc3MgRXRoZXJldW1Qcm92aWRlciBleHRlbmRzIEV2ZW50RW1pdHRlciBpbXBsZW1lbnRzIElFdGhlcmV1bVByb3ZpZGVyIHtcclxuXHJcbiAgX3ZlcnNpb24gPSAxMDE7XHJcblxyXG4gIF9ycGNFbmdpbmU6SnNvblJwY0VuZ2luZTx1bmtub3duW10gfCBvYmplY3QsIHVua25vd24+O1xyXG5cclxuICBfc2VxOm51bWJlcjtcclxuXHJcbiAgX3NlbGVjdGVkQWRkcmVzcz86c3RyaW5nO1xyXG5cclxuICBnZXQgaXNUYW5nbGVQYXkoKXtcclxuICAgICAgcmV0dXJuIHRydWVcclxuICB9XHJcblxyXG4gIGdldCBzZWxlY3RlZEFkZHJlc3MoKXtcclxuICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkQWRkcmVzc1xyXG4gIH1cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICB0aGlzLl9zZXEgPSAxO1xyXG4gICAgY29uc3QgbG9nID0gKHRhZzpzdHJpbmcpOkpzb25ScGNSZXF1ZXN0TWlkZGxld2FyZTx1bmtub3duW10gfCBvYmplY3QsIHVua25vd24+ID0+IGFzeW5jIChyZXEsbmV4dCk9PntcclxuICAgICAgY29uc29sZS5sb2coJ3JlcTonK3RhZyxyZXEpXHJcbiAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBuZXh0IShyZXEpXHJcbiAgICAgIGNvbnNvbGUubG9nKCdyZXNwOicrdGFnLHJlc3ApXHJcbiAgICAgIHJldHVybiByZXNwXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fcnBjRW5naW5lID0gSnNvblJwY0VuZ2luZVxyXG4gICAgICAuYnVpbGRlcjx1bmtub3duW10gfCBvYmplY3QsIHVua25vd24+KClcclxuICAgICAgICAuYWRkKGFzeW5jIChyZXEsbmV4dCk9PntcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkQWRkcmVzcyA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgaW90YS5yZXF1ZXN0KHsgbWV0aG9kOiAnaW90YV9jb25uZWN0JywgcGFyYW1zOiB7fX0pIGFzIHsgYWRkcmVzczogc3RyaW5nIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzICYmIHJlcy5hZGRyZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkQWRkcmVzcyA9IHJlcy5hZGRyZXNzXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgY29ubmVjdGVkJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgbmV4dCEocmVxKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmFkZChsb2coJzEnKSlcclxuICAgICAgLmFkZChhc3luYyAocmVxLCBuZXh0KT0+e1xyXG4gICAgICAgIHJlcS5pZCA9IHRoaXMuX3NlcSsrO1xyXG4gICAgICAgIHJlcS52ZXJzaW9uID0gdGhpcy5fdmVyc2lvbjtcclxuICAgICAgICByZXR1cm4gbmV4dCEocmVxKTtcclxuICAgICAgfSlcclxuICAgICAgICAuYWRkKGFzeW5jIChyZXEsbmV4dCk9PntcclxuICAgICAgICAgIGNvbnN0IG1ldGhvZE1hcHBpbmc6UmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuICAgICAgICAgICAgJ2V0aF9yZXF1ZXN0QWNjb3VudHMnOidpb3RhX2FjY291bnRzJyxcclxuICAgICAgICAgICAgJ2V0aF9jb25uZWN0JzonaW90YV9jb25uZWN0JyxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBjb25zdCByZXF1ZXN0TWFwcGluZzpSZWNvcmQ8c3RyaW5nLCBGdW5jdGlvbj4gPSB7XHJcbiAgICAgICAgICAgICAgJ2V0aF9zaWduJzooZGF0YTp1bmtub3duKT0+ICh7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ZGF0YVxyXG4gICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICdwZXJzb25hbF9zaWduJzooZGF0YTp1bmtub3duKT0+ICh7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ZGF0YVxyXG4gICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICdldGhfc2VuZFRyYW5zYWN0aW9uJzogKGFycjp1bmtub3duW10pID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgcGwgPSBhcnJbMF0gYXMge3ZhbHVlOnN0cmluZ3xudW1iZXIsZGF0YTphbnl9XHJcbiAgICAgICAgICAgICAgICAgIHBsLnZhbHVlID0gcGFyc2VJbnQocGwudmFsdWUgYXMgc3RyaW5nKVxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gcGxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICdldGhfZ2V0QmFsYW5jZSc6KCk9Pih7YXNzZXRzTGlzdCA6IFsnZXZtJ10sIGFkZHJlc3NMaXN0OltdfSlcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgbm9vcCA9IChkYXRhOmFueSk9PmRhdGFcclxuICAgICAgICAgIGNvbnN0IG1ldGhvZCA9IHJlcS5tZXRob2QhXHJcbiAgICAgICAgICBjb25zdCByZXFjcCA9IHsuLi5yZXF9XHJcbiAgICAgICAgICAgIHJlcWNwLm1ldGhvZCA9IG1ldGhvZE1hcHBpbmdbbWV0aG9kXSA/PyBtZXRob2RcclxuICAgICAgICAgICAgY29uc3QgcmVxVHJhbnNmb3JtID0gcmVxdWVzdE1hcHBpbmdbbWV0aG9kXSA/PyBub29wXHJcbiAgICAgICAgICAgIHJlcWNwLnBhcmFtcyA9IHJlcVRyYW5zZm9ybShyZXFjcC5wYXJhbXMpXHJcbiAgICAgICAgICBjb25zdCByZXNwID0gYXdhaXQgbmV4dCEocmVxY3ApXHJcblxyXG4gICAgICAgICAgY29uc3QgcmVzcG9uc2VNYXBwaW5nOlJlY29yZDxzdHJpbmcsIEZ1bmN0aW9uPiA9IHtcclxuICAgICAgICAgICAgJ2V0aF9jb25uZWN0JzooZGF0YTp7YWRkcmVzczpzdHJpbmd9KT0+W2RhdGEuYWRkcmVzc10sXHJcbiAgICAgICAgICAgICAgJ2V0aF9nZXRCYWxhbmNlJzooZGF0YTp7YW1vdW50Om51bWJlcn0pPT5kYXRhLmFtb3VudFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY29uc3QgcmVzcFRyYW5zZm9ybSA9IHJlc3BvbnNlTWFwcGluZ1ttZXRob2RdID8/IG5vb3A7XHJcbiAgICAgICAgICBjb25zdCByZXNwY3AgPSB7Li4ucmVzcH1cclxuICAgICAgICAgIHJlc3BjcC5kYXRhID0gcmVzcFRyYW5zZm9ybShyZXNwLmRhdGEpXHJcbiAgICAgICAgICByZXR1cm4gcmVzcGNwXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYWRkKGxvZygnMicpKVxyXG4gICAgICAgIC5hZGQoYXN5bmMgKHJlcSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgbWV0aG9kLCBwYXJhbXMsIGlkIH0gPSByZXE7XHJcbiAgICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGlvdGEucmVxdWVzdCh7IG1ldGhvZDptZXRob2QhLCBwYXJhbXMgfSkgYXMgYW55O1xyXG4gICAgICAgIHJldHVybiB7IGlkOmlkISwgdmVyc2lvbjoxMDAsIGRhdGE6IHJlc3AgfTtcclxuICAgICAgfSlcclxuICAgICAgLmJ1aWxkKCk7XHJcblxyXG4gICAgLy8gcHJlcGFyZSBldmVudFxyXG4gICAgLy8gbWVzc2FnZSBjaGFpbkNoYW5nZWQgYWNjb3VudHNDaGFuZ2VkXHJcbiAgICBjb25zdCBldmVudE1hcCA9IHtcclxuICAgICAgY29ubmVjdDp0aGlzLl9oYW5kbGVDb25uZWN0LFxyXG4gICAgICBkaXNjb25uZWN0OiB0aGlzLl9oYW5kbGVEaXNjb25uZWN0LFxyXG4gICAgICBtZXNzYWdlOiB0aGlzLl9oYW5kbGVNZXNzYWdlLFxyXG4gICAgICBjaGFpbkNoYW5nZWQ6IHRoaXMuX2hhbmRsZUNoYWluQ2hhbmdlZCxcclxuICAgICAgYWNjb3VudHNDaGFuZ2VkOiB0aGlzLl9oYW5kbGVBY2NvdW50c0NoYW5nZWQsXHJcbiAgICB9O1xyXG4gICAgZm9yICggY29uc3QgW2V2ZW50LCBoYW5kbGVdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50TWFwKSkge1xyXG4gICAgICBpb3RhLm9uKGV2ZW50LCBoYW5kbGUuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQ29ubmVjdChkYXRhOmFueSkge1xyXG4gICAgdGhpcy5lbWl0KCdjb25uZWN0JyxkYXRhKVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZURpc2Nvbm5lY3QoZGF0YTphbnkpIHtcclxuICAgIHRoaXMuZW1pdCgnZGlzY29ubmVjdCcsZGF0YSlcclxuICB9XHJcblxyXG4gIF9oYW5kbGVNZXNzYWdlKGRhdGE6YW55KSB7XHJcbiAgICB0aGlzLmVtaXQoJ21lc3NhZ2UnLGRhdGEpXHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQ2hhaW5DaGFuZ2VkKGRhdGE6YW55KSB7XHJcbiAgICB0aGlzLmVtaXQoJ2NoYWluQ2hhbmdlZCcsZGF0YSlcclxuICB9XHJcblxyXG4gIF9oYW5kbGVBY2NvdW50c0NoYW5nZWQoZGF0YTphbnkpIHtcclxuICAgIHRoaXMuZW1pdCgnYWNjb3VudHNDaGFuZ2VkJyxkYXRhKVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgcmVxdWVzdChhcmdzOiBSZXF1ZXN0QXJndW1lbnRzKTogUHJvbWlzZTx1bmtub3duPiB7XHJcbiAgICBjb25zdCByZXNwID0gYXdhaXQgdGhpcy5fcnBjRW5naW5lLnJlcXVlc3QoYXJncyk7XHJcbiAgICBpZiAocmVzcC5lcnJvcikge1xyXG4gICAgICB0aHJvdyByZXNwLmVycm9yO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHJlc3AuZGF0YTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGluc3RhbmNlID0gbmV3IEV0aGVyZXVtUHJvdmlkZXI7XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbndpbmRvdy5ldGhlcmV1bSA9IGluc3RhbmNlO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgaW5zdGFuY2U7XHJcblxyXG4iXSwibmFtZXMiOlsiZXh0ZW5kU3RhdGljcyIsImQiLCJiIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJfX2Fzc2lnbiIsImFzc2lnbiIsInQiLCJzIiwiaSIsIm4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcHBseSIsInRoaXMiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInZhbHVlIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsIl9fZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsInRocm93IiwicmV0dXJuIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ2Iiwib3AiLCJUeXBlRXJyb3IiLCJwb3AiLCJwdXNoIiwiaW5zdGFuY2UiLCJfc3VwZXIiLCJFdGhlcmV1bVByb3ZpZGVyIiwiX3RoaXMiLCJfdmVyc2lvbiIsIl9zZXEiLCJsb2ciLCJ0YWciLCJyZXEiLCJjb25zb2xlIiwicmVzcCIsIl9hIiwiX3JwY0VuZ2luZSIsIkpzb25ScGNFbmdpbmUiLCJidWlsZGVyIiwiYWRkIiwidW5kZWZpbmVkIiwiX3NlbGVjdGVkQWRkcmVzcyIsImlvdGEiLCJyZXF1ZXN0IiwibWV0aG9kIiwicGFyYW1zIiwicmVzIiwiYWRkcmVzcyIsIkVycm9yIiwiaWQiLCJ2ZXJzaW9uIiwibWV0aG9kTWFwcGluZyIsImV0aF9yZXF1ZXN0QWNjb3VudHMiLCJldGhfY29ubmVjdCIsInJlcXVlc3RNYXBwaW5nIiwiZXRoX3NpZ24iLCJkYXRhIiwiY29udGVudCIsInBlcnNvbmFsX3NpZ24iLCJldGhfc2VuZFRyYW5zYWN0aW9uIiwiYXJyIiwicGwiLCJwYXJzZUludCIsImV0aF9nZXRCYWxhbmNlIiwiYXNzZXRzTGlzdCIsImFkZHJlc3NMaXN0Iiwibm9vcCIsInJlcWNwIiwicmVxVHJhbnNmb3JtIiwiX2IiLCJfZCIsInJlc3BUcmFuc2Zvcm0iLCJhbW91bnQiLCJfYyIsInJlc3BjcCIsImJ1aWxkIiwiZXZlbnRNYXAiLCJjb25uZWN0IiwiX2hhbmRsZUNvbm5lY3QiLCJkaXNjb25uZWN0IiwiX2hhbmRsZURpc2Nvbm5lY3QiLCJtZXNzYWdlIiwiX2hhbmRsZU1lc3NhZ2UiLCJjaGFpbkNoYW5nZWQiLCJfaGFuZGxlQ2hhaW5DaGFuZ2VkIiwiYWNjb3VudHNDaGFuZ2VkIiwiX2hhbmRsZUFjY291bnRzQ2hhbmdlZCIsIl9pIiwiZW50cmllcyIsImV2ZW50XzEiLCJoYW5kbGUiLCJvbiIsImJpbmQiLCJTdHJpbmciLCJfXyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiX19leHRlbmRzIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJlbWl0IiwiYXJncyIsImVycm9yIiwiRXZlbnRFbWl0dGVyIiwid2luZG93IiwiZXRoZXJldW0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs2SEFnQkEsSUFBSUEsRUFBZ0IsU0FBU0MsRUFBR0MsR0FJNUIsT0FIQUYsRUFBZ0JHLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILENBQUUsR0FDekUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLEtBQ3pGUCxFQUFjQyxFQUFHQyxFQUM1QixFQVVPLElBQUlTLEVBQVcsV0FRbEIsT0FQQUEsRUFBV1IsT0FBT1MsUUFBVSxTQUFrQkMsR0FDMUMsSUFBSyxJQUFJQyxFQUFHQyxFQUFJLEVBQUdDLEVBQUlDLFVBQVVDLE9BQVFILEVBQUlDLEVBQUdELElBRTVDLElBQUssSUFBSVIsS0FEVE8sRUFBSUcsVUFBVUYsR0FDT1osT0FBT0ssVUFBVUMsZUFBZUMsS0FBS0ksRUFBR1AsS0FBSU0sRUFBRU4sR0FBS08sRUFBRVAsSUFFOUUsT0FBT00sQ0FDVixFQUNNRixFQUFTUSxNQUFNQyxLQUFNSCxV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
